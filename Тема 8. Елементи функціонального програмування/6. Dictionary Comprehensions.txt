Dictionary Comprehensions

Dictionary comprehensions використовуються для створення нових словників. Для словників синтаксис comprehension трохи відрізняється, оскільки потрібно явно вказати ключ та значення



Синтаксис:



{key: value for item in iterable if condition}



Створимо словник, де ключ - число, а значення - його квадрат.



sq = {x: x**2 for x in range(1, 10)}
print(sq)



В цьому прикладі ми записали в словник sq числа від 1 до 10 у якості ключів, а їх квадрати як значення. Основна відмінність за синтаксисом — це двокрапка між ключем і значенням в лівій частині виразу всередині дужок.



{1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81}



Створимо словник, де ключами будуть числа, а значеннями — їх квадрати, але тільки для чисел, що більші за 5:



sq_dict = {x: x**2 for x in range(1, 10) if x > 5}
print(sq_dict)



У цьому випадку if x > 5 обмежує включення тільки тих чисел, що задовольняють умові.



{6: 36, 7: 49, 8: 64, 9: 81}



Comprehensions ідеально підходять для простих випадків, коли вам потрібно трансформувати елементи колекції або фільтрувати їх за певною умовою. Вони роблять код більш читабельним і зменшують потребу в багаторядкових циклах і умовних конструкціях. Однак важливо використовувати їх з обережністю, щоб не перевантажити один рядок занадто складною логікою.